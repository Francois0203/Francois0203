/* ==================== NAVBAR SHELL ==================== */
/* Minimal wrapper — only positions the burger and
   gives the dropdown an anchor point.                    */

.navbar {
  position: relative;
  z-index: 300;
  background: transparent;
  padding: 0;
  min-height: 0;
  box-sizing: border-box;
}

/* ==================== BURGER ROW ==================== */

.burgerRow {
  display: flex;
  align-items: center;
  padding: 0;
  margin: 0;
}

/* ==================== BURGER BUTTON ==================== */

.burger {
  /* Sizing is injected via inline style; these are
     safety defaults so nothing collapses.              */
  width: 100%;
  height: 100%;
  min-width: 0;
  min-height: 0;

  /* Reset button chrome */
  padding: 0;
  margin: 0;
  background: none !important;
  border: none !important;
  outline: none;
  box-sizing: border-box;
  overflow: visible;

  /* Layout */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  /* Colour – uses the same accent variable as icons */
  color: var(--accent-1);
  transition: color 0.3s ease, transform 0.25s ease;
}

.burger:hover {
  color: var(--accent-2);
  transform: scale(1.08);
  filter: drop-shadow(0 0 6px var(--accent-2-background));
}

.burger:active {
  transform: scale(0.93);
}

/* Rotate the icon when the menu is open */
.burgerOpen {
  color: var(--accent-2);
  transform: rotate(90deg);
  transition: color 0.3s ease, transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ==================== BACKDROP OVERLAY ==================== */
/* Full-page frosted glass that sits behind the dropdown
   and above the page content.                            */

.backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 298;
  animation: backdropFadeIn 0.28s ease;
}

@keyframes backdropFadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* ==================== DROPDOWN PANEL ==================== */
/* The liquid-glass card that slides down from the burger. */

.menuDropdown {
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  min-width: 300px;
  max-width: 380px;
  width: 100%;

  /* Liquid glass background */
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.45) 0%,
    rgba(255, 255, 255, 0.30) 50%,
    rgba(255, 255, 255, 0.40) 100%
  );
  backdrop-filter: blur(24px) saturate(200%);
  -webkit-backdrop-filter: blur(24px) saturate(200%);

  /* Border & shadow */
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-radius: 20px;
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.10),
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    inset 0 -1px 0 rgba(255, 255, 255, 0.2);

  /* Spacing */
  padding: 12px;
  box-sizing: border-box;
  z-index: 299;
  overflow: hidden;

  /* -- Entrance animation (initial hidden state) -- */
  opacity: 0;
  transform: translateY(-14px) scale(0.96);
  transition:
    opacity   0.32s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.38s cubic-bezier(0.34, 1.56, 0.64, 1);
  pointer-events: none;
}

/* Dark-theme override */
[data-theme="dark"] .menuDropdown {
  background: linear-gradient(
    135deg,
    rgba(58, 59, 63, 0.60) 0%,
    rgba(47, 48, 53, 0.45) 50%,
    rgba(58, 59, 63, 0.55) 100%
  );
  border-color: rgba(255, 255, 255, 0.12);
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.32),
    inset 0 1px 0 rgba(255, 255, 255, 0.10),
    inset 0 -1px 0 rgba(255, 255, 255, 0.05);
}

/* Visible / open state */
.menuDropdownOpen {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
}

/* ==================== LINK LIST ==================== */
/* Vertical stack of navigation items inside the panel. */

.linkList {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.linkItem {
  position: relative;
}

/* ==================== INDIVIDUAL LINK ==================== */

.link {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 14px;
  border-radius: 14px;
  background: transparent;
  color: var(--primary-text-color);
  font-size: var(--font-size-base);
  font-weight: 500;
  cursor: pointer;
  user-select: none;
  overflow: visible;
  transition:
    background 0.28s cubic-bezier(0.4, 0, 0.2, 1),
    transform  0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Subtle inner glow on hover */
.link::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 14px;
  background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.18), transparent);
  opacity: 0;
  transition: opacity 0.28s ease;
  pointer-events: none;
}

.link:hover::before,
.linkHovered::before {
  opacity: 1;
}

.link:active {
  transform: scale(0.97);
}

/* ==================== ICON PILLS ==================== */
/* Each index gets its own accent colour via CSS vars.  */

.linkIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 38px;
  height: 38px;
  border-radius: 11px;
  flex-shrink: 0;
  transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ── Default (resting) colours ─────────────────────── */
.link[data-index="0"] .linkIcon { background: var(--accent-1-background); color: var(--accent-1); }
.link[data-index="1"] .linkIcon { background: var(--accent-2-background); color: var(--accent-2); }
.link[data-index="2"] .linkIcon { background: var(--accent-3-background); color: var(--accent-3); }
.link[data-index="3"] .linkIcon { background: var(--accent-4-background); color: var(--accent-4); }
.link[data-index="4"] .linkIcon { background: var(--accent-1-background); color: var(--accent-1); }
.link[data-index="5"] .linkIcon { background: var(--accent-2-background); color: var(--accent-2); }
.link[data-index="6"] .linkIcon { background: var(--accent-3-background); color: var(--accent-3); }

/* ── Hover colours ─────────────────────────────────── */
.link[data-index="0"]:hover .linkIcon, .link[data-index="0"].linkHovered .linkIcon { background: var(--accent-1); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-1-background); }
.link[data-index="1"]:hover .linkIcon, .link[data-index="1"].linkHovered .linkIcon { background: var(--accent-2); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-2-background); }
.link[data-index="2"]:hover .linkIcon, .link[data-index="2"].linkHovered .linkIcon { background: var(--accent-3); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-3-background); }
.link[data-index="3"]:hover .linkIcon, .link[data-index="3"].linkHovered .linkIcon { background: var(--accent-4); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-4-background); }
.link[data-index="4"]:hover .linkIcon, .link[data-index="4"].linkHovered .linkIcon { background: var(--accent-1); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-1-background); }
.link[data-index="5"]:hover .linkIcon, .link[data-index="5"].linkHovered .linkIcon { background: var(--accent-2); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-2-background); }
.link[data-index="6"]:hover .linkIcon, .link[data-index="6"].linkHovered .linkIcon { background: var(--accent-3); color: var(--background-1); box-shadow: 0 4px 14px var(--accent-3-background); }

/* Icon bounce on hover */
.link:hover .linkIcon,
.linkHovered .linkIcon {
  transform: translateY(-2px) scale(1.08);
}

/* ==================== LABEL ==================== */

.linkLabel {
  letter-spacing: 0.3px;
  white-space: nowrap;
  transition: color 0.28s ease, transform 0.28s ease;
}

/* ── Hover label colours ───────────────────────────── */
.link[data-index="0"]:hover .linkLabel, .link[data-index="0"].linkHovered .linkLabel { color: var(--accent-1); }
.link[data-index="1"]:hover .linkLabel, .link[data-index="1"].linkHovered .linkLabel { color: var(--accent-2); }
.link[data-index="2"]:hover .linkLabel, .link[data-index="2"].linkHovered .linkLabel { color: var(--accent-3); }
.link[data-index="3"]:hover .linkLabel, .link[data-index="3"].linkHovered .linkLabel { color: var(--accent-4); }
.link[data-index="4"]:hover .linkLabel, .link[data-index="4"].linkHovered .linkLabel { color: var(--accent-1); }
.link[data-index="5"]:hover .linkLabel, .link[data-index="5"].linkHovered .linkLabel { color: var(--accent-2); }
.link[data-index="6"]:hover .linkLabel, .link[data-index="6"].linkHovered .linkLabel { color: var(--accent-3); }

/* Slight slide-right on hover */
.link:hover .linkLabel,
.linkHovered .linkLabel {
  transform: translateX(3px);
}

/* ==================== BRUSH STROKE ==================== */
/* Wavy SVG underline that sweeps in on hover / active. */

.brushStroke {
  position: absolute;
  bottom: 2px;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  width: calc(100% - 24px);
  height: 6px;
  opacity: 0;
  transform-origin: center;
  pointer-events: none;
  transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
              transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Per-index stroke colours */
.link[data-index="0"] .brushStroke { color: var(--accent-1); }
.link[data-index="1"] .brushStroke { color: var(--accent-2); }
.link[data-index="2"] .brushStroke { color: var(--accent-3); }
.link[data-index="3"] .brushStroke { color: var(--accent-4); }
.link[data-index="4"] .brushStroke { color: var(--accent-1); }
.link[data-index="5"] .brushStroke { color: var(--accent-2); }
.link[data-index="6"] .brushStroke { color: var(--accent-3); }

/* Sweep in on hover */
.link:hover .brushStroke,
.linkHovered .brushStroke {
  opacity: 1;
  transform: translateX(-50%) scaleX(1);
}

/* ==================== ACTIVE STATE ==================== */
/* Persists the filled icon + coloured label + visible
   brush stroke even when the link is not hovered.      */

.linkActive .linkIcon {
  transform: scale(1.05);
}

/* Active icon fills */
.link[data-index="0"].linkActive .linkIcon { background: var(--accent-1); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-1-background); }
.link[data-index="1"].linkActive .linkIcon { background: var(--accent-2); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-2-background); }
.link[data-index="2"].linkActive .linkIcon { background: var(--accent-3); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-3-background); }
.link[data-index="3"].linkActive .linkIcon { background: var(--accent-4); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-4-background); }
.link[data-index="4"].linkActive .linkIcon { background: var(--accent-1); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-1-background); }
.link[data-index="5"].linkActive .linkIcon { background: var(--accent-2); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-2-background); }
.link[data-index="6"].linkActive .linkIcon { background: var(--accent-3); color: var(--background-1); box-shadow: 0 2px 10px var(--accent-3-background); }

/* Active label colours + weight */
.link[data-index="0"].linkActive .linkLabel { color: var(--accent-1); font-weight: 600; }
.link[data-index="1"].linkActive .linkLabel { color: var(--accent-2); font-weight: 600; }
.link[data-index="2"].linkActive .linkLabel { color: var(--accent-3); font-weight: 600; }
.link[data-index="3"].linkActive .linkLabel { color: var(--accent-4); font-weight: 600; }
.link[data-index="4"].linkActive .linkLabel { color: var(--accent-1); font-weight: 600; }
.link[data-index="5"].linkActive .linkLabel { color: var(--accent-2); font-weight: 600; }
.link[data-index="6"].linkActive .linkLabel { color: var(--accent-3); font-weight: 600; }

/* Brush stroke stays visible for the active link */
.linkActive .brushStroke {
  opacity: 0.75;
  transform: translateX(-50%) scaleX(1);
}

/* ==================== RESPONSIVE ==================== */

@media (max-width: 768px) {
  .menuDropdown {
    min-width: 280px;
    max-width: 92vw;
    padding: 10px;
  }

  .link {
    padding: 9px 12px;
    gap: 10px;
  }

  .linkIcon {
    width: 34px;
    height: 34px;
  }
}

@media (max-width: 480px) {
  .menuDropdown {
    min-width: 260px;
    max-width: 88vw;
    padding: 8px;
    border-radius: 16px;
  }

  .link {
    padding: 8px 10px;
    gap: 10px;
    border-radius: 12px;
  }

  .linkIcon {
    width: 32px;
    height: 32px;
    border-radius: 9px;
  }

  .linkLabel {
    font-size: 0.9rem;
  }
}